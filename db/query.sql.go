// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.23.0
// source: query.sql

package db

import (
	"context"
	"database/sql"

	"github.com/emojihunt/emojihunt/schema"
)

const createPuzzle = `-- name: CreatePuzzle :one
INSERT INTO puzzles (name, rounds, puzzle_url, original_url) VALUES (?, ?, ?, ?)
RETURNING id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder
`

type CreatePuzzleParams struct {
	Name        string
	Rounds      schema.Rounds
	PuzzleURL   string
	OriginalURL string
}

func (q *Queries) CreatePuzzle(ctx context.Context, arg CreatePuzzleParams) (Puzzle, error) {
	row := q.db.QueryRowContext(ctx, createPuzzle,
		arg.Name,
		arg.Rounds,
		arg.PuzzleURL,
		arg.OriginalURL,
	)
	var i Puzzle
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Answer,
		&i.Rounds,
		&i.Status,
		&i.Description,
		&i.Location,
		&i.PuzzleURL,
		&i.SpreadsheetID,
		&i.DiscordChannel,
		&i.OriginalURL,
		&i.NameOverride,
		&i.Archived,
		&i.VoiceRoom,
		&i.Reminder,
	)
	return i, err
}

const getPuzzle = `-- name: GetPuzzle :one
SELECT id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder FROM puzzles
WHERE id = ? LIMIT 1
`

func (q *Queries) GetPuzzle(ctx context.Context, id int64) (Puzzle, error) {
	row := q.db.QueryRowContext(ctx, getPuzzle, id)
	var i Puzzle
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Answer,
		&i.Rounds,
		&i.Status,
		&i.Description,
		&i.Location,
		&i.PuzzleURL,
		&i.SpreadsheetID,
		&i.DiscordChannel,
		&i.OriginalURL,
		&i.NameOverride,
		&i.Archived,
		&i.VoiceRoom,
		&i.Reminder,
	)
	return i, err
}

const getPuzzlesByDiscordChannel = `-- name: GetPuzzlesByDiscordChannel :many
SELECT id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder from puzzles
WHERE discord_channel = ?
`

func (q *Queries) GetPuzzlesByDiscordChannel(ctx context.Context, discordChannel string) ([]Puzzle, error) {
	rows, err := q.db.QueryContext(ctx, getPuzzlesByDiscordChannel, discordChannel)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Puzzle
	for rows.Next() {
		var i Puzzle
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.Answer,
			&i.Rounds,
			&i.Status,
			&i.Description,
			&i.Location,
			&i.PuzzleURL,
			&i.SpreadsheetID,
			&i.DiscordChannel,
			&i.OriginalURL,
			&i.NameOverride,
			&i.Archived,
			&i.VoiceRoom,
			&i.Reminder,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPuzzleDiscoveryFragments = `-- name: ListPuzzleDiscoveryFragments :many
SELECT id, name, puzzle_url, original_url FROM puzzles
ORDER BY id
`

type ListPuzzleDiscoveryFragmentsRow struct {
	ID          int64
	Name        string
	PuzzleURL   string
	OriginalURL string
}

func (q *Queries) ListPuzzleDiscoveryFragments(ctx context.Context) ([]ListPuzzleDiscoveryFragmentsRow, error) {
	rows, err := q.db.QueryContext(ctx, listPuzzleDiscoveryFragments)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []ListPuzzleDiscoveryFragmentsRow
	for rows.Next() {
		var i ListPuzzleDiscoveryFragmentsRow
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.PuzzleURL,
			&i.OriginalURL,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPuzzleIDs = `-- name: ListPuzzleIDs :many
SELECT id FROM puzzles
ORDER BY id
`

func (q *Queries) ListPuzzleIDs(ctx context.Context) ([]int64, error) {
	rows, err := q.db.QueryContext(ctx, listPuzzleIDs)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []int64
	for rows.Next() {
		var id int64
		if err := rows.Scan(&id); err != nil {
			return nil, err
		}
		items = append(items, id)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPuzzlesWithReminder = `-- name: ListPuzzlesWithReminder :many
SELECT id, name, discord_channel, reminder FROM puzzles
WHERE reminder IS NOT NULL
ORDER BY reminder
`

type ListPuzzlesWithReminderRow struct {
	ID             int64
	Name           string
	DiscordChannel string
	Reminder       sql.NullTime
}

func (q *Queries) ListPuzzlesWithReminder(ctx context.Context) ([]ListPuzzlesWithReminderRow, error) {
	rows, err := q.db.QueryContext(ctx, listPuzzlesWithReminder)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []ListPuzzlesWithReminderRow
	for rows.Next() {
		var i ListPuzzlesWithReminderRow
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DiscordChannel,
			&i.Reminder,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPuzzlesWithVoiceRoom = `-- name: ListPuzzlesWithVoiceRoom :many
SELECT id, name, voice_room FROM puzzles
WHERE voice_room != ""
ORDER BY id
`

type ListPuzzlesWithVoiceRoomRow struct {
	ID        int64
	Name      string
	VoiceRoom string
}

func (q *Queries) ListPuzzlesWithVoiceRoom(ctx context.Context) ([]ListPuzzlesWithVoiceRoomRow, error) {
	rows, err := q.db.QueryContext(ctx, listPuzzlesWithVoiceRoom)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []ListPuzzlesWithVoiceRoomRow
	for rows.Next() {
		var i ListPuzzlesWithVoiceRoomRow
		if err := rows.Scan(&i.ID, &i.Name, &i.VoiceRoom); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listRounds = `-- name: ListRounds :many
SELECT id, name, emoji FROM rounds
ORDER BY id
`

func (q *Queries) ListRounds(ctx context.Context) ([]Round, error) {
	rows, err := q.db.QueryContext(ctx, listRounds)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Round
	for rows.Next() {
		var i Round
		if err := rows.Scan(&i.ID, &i.Name, &i.Emoji); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateArchived = `-- name: UpdateArchived :one
UPDATE puzzles SET archived = ?2
WHERE id = ?1
RETURNING id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder
`

type UpdateArchivedParams struct {
	ID       int64
	Archived bool
}

func (q *Queries) UpdateArchived(ctx context.Context, arg UpdateArchivedParams) (Puzzle, error) {
	row := q.db.QueryRowContext(ctx, updateArchived, arg.ID, arg.Archived)
	var i Puzzle
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Answer,
		&i.Rounds,
		&i.Status,
		&i.Description,
		&i.Location,
		&i.PuzzleURL,
		&i.SpreadsheetID,
		&i.DiscordChannel,
		&i.OriginalURL,
		&i.NameOverride,
		&i.Archived,
		&i.VoiceRoom,
		&i.Reminder,
	)
	return i, err
}

const updateDescription = `-- name: UpdateDescription :one
UPDATE puzzles SET description = ?2
WHERE id = ?1
RETURNING id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder
`

type UpdateDescriptionParams struct {
	ID          int64
	Description string
}

func (q *Queries) UpdateDescription(ctx context.Context, arg UpdateDescriptionParams) (Puzzle, error) {
	row := q.db.QueryRowContext(ctx, updateDescription, arg.ID, arg.Description)
	var i Puzzle
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Answer,
		&i.Rounds,
		&i.Status,
		&i.Description,
		&i.Location,
		&i.PuzzleURL,
		&i.SpreadsheetID,
		&i.DiscordChannel,
		&i.OriginalURL,
		&i.NameOverride,
		&i.Archived,
		&i.VoiceRoom,
		&i.Reminder,
	)
	return i, err
}

const updateDiscordChannel = `-- name: UpdateDiscordChannel :one
UPDATE puzzles SET discord_channel = ?2
WHERE id = ?1
RETURNING id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder
`

type UpdateDiscordChannelParams struct {
	ID             int64
	DiscordChannel string
}

func (q *Queries) UpdateDiscordChannel(ctx context.Context, arg UpdateDiscordChannelParams) (Puzzle, error) {
	row := q.db.QueryRowContext(ctx, updateDiscordChannel, arg.ID, arg.DiscordChannel)
	var i Puzzle
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Answer,
		&i.Rounds,
		&i.Status,
		&i.Description,
		&i.Location,
		&i.PuzzleURL,
		&i.SpreadsheetID,
		&i.DiscordChannel,
		&i.OriginalURL,
		&i.NameOverride,
		&i.Archived,
		&i.VoiceRoom,
		&i.Reminder,
	)
	return i, err
}

const updateLocation = `-- name: UpdateLocation :one
UPDATE puzzles SET location = ?2
WHERE id = ?1
RETURNING id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder
`

type UpdateLocationParams struct {
	ID       int64
	Location string
}

func (q *Queries) UpdateLocation(ctx context.Context, arg UpdateLocationParams) (Puzzle, error) {
	row := q.db.QueryRowContext(ctx, updateLocation, arg.ID, arg.Location)
	var i Puzzle
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Answer,
		&i.Rounds,
		&i.Status,
		&i.Description,
		&i.Location,
		&i.PuzzleURL,
		&i.SpreadsheetID,
		&i.DiscordChannel,
		&i.OriginalURL,
		&i.NameOverride,
		&i.Archived,
		&i.VoiceRoom,
		&i.Reminder,
	)
	return i, err
}

const updateSpreadsheetID = `-- name: UpdateSpreadsheetID :one
UPDATE puzzles SET spreadsheet_id = ?2
WHERE id = ?1
RETURNING id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder
`

type UpdateSpreadsheetIDParams struct {
	ID            int64
	SpreadsheetID string
}

func (q *Queries) UpdateSpreadsheetID(ctx context.Context, arg UpdateSpreadsheetIDParams) (Puzzle, error) {
	row := q.db.QueryRowContext(ctx, updateSpreadsheetID, arg.ID, arg.SpreadsheetID)
	var i Puzzle
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Answer,
		&i.Rounds,
		&i.Status,
		&i.Description,
		&i.Location,
		&i.PuzzleURL,
		&i.SpreadsheetID,
		&i.DiscordChannel,
		&i.OriginalURL,
		&i.NameOverride,
		&i.Archived,
		&i.VoiceRoom,
		&i.Reminder,
	)
	return i, err
}

const updateStatusAndAnswer = `-- name: UpdateStatusAndAnswer :one
UPDATE puzzles SET status = ?2, answer = ?3, archived = ?4
WHERE id = ?1
RETURNING id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder
`

type UpdateStatusAndAnswerParams struct {
	ID       int64
	Status   schema.Status
	Answer   string
	Archived bool
}

func (q *Queries) UpdateStatusAndAnswer(ctx context.Context, arg UpdateStatusAndAnswerParams) (Puzzle, error) {
	row := q.db.QueryRowContext(ctx, updateStatusAndAnswer,
		arg.ID,
		arg.Status,
		arg.Answer,
		arg.Archived,
	)
	var i Puzzle
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Answer,
		&i.Rounds,
		&i.Status,
		&i.Description,
		&i.Location,
		&i.PuzzleURL,
		&i.SpreadsheetID,
		&i.DiscordChannel,
		&i.OriginalURL,
		&i.NameOverride,
		&i.Archived,
		&i.VoiceRoom,
		&i.Reminder,
	)
	return i, err
}

const updateVoiceRoom = `-- name: UpdateVoiceRoom :one
UPDATE puzzles SET voice_room = ?2, location = ?3
WHERE id = ?1
RETURNING id, name, answer, rounds, status, description, location, puzzle_url, spreadsheet_id, discord_channel, original_url, name_override, archived, voice_room, reminder
`

type UpdateVoiceRoomParams struct {
	ID        int64
	VoiceRoom string
	Location  string
}

func (q *Queries) UpdateVoiceRoom(ctx context.Context, arg UpdateVoiceRoomParams) (Puzzle, error) {
	row := q.db.QueryRowContext(ctx, updateVoiceRoom, arg.ID, arg.VoiceRoom, arg.Location)
	var i Puzzle
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.Answer,
		&i.Rounds,
		&i.Status,
		&i.Description,
		&i.Location,
		&i.PuzzleURL,
		&i.SpreadsheetID,
		&i.DiscordChannel,
		&i.OriginalURL,
		&i.NameOverride,
		&i.Archived,
		&i.VoiceRoom,
		&i.Reminder,
	)
	return i, err
}
